import{q as F,r as d,j as e}from"./app-391300e3.js";import{B as A}from"./Breadcrumb-8f5e167c.js";import{l as E}from"./breadcrumbContent-e73bf562.js";import{F as l}from"./FieldGroup-66e526ac.js";import{T as m}from"./TextInput-a017f3b3.js";import{S as u}from"./react-select.esm-c6a27ed3.js";import{D as g,F as v}from"./DateFormatFlatpickr-9fdf4350.js";import{c as j}from"./convertOptions-49a86ad9.js";import"./trash-2-2ff67458.js";import"./createLucideIcon-2f722a4f.js";function Q({data:n,setData:s,errors:r,pageName:h,selectOption:k,readOnly:c=!1}){const{user:C}=F().props.auth,[P,b]=d.useState(n.phone),[w,S]=d.useState(n.address),[p,x]=d.useState([]),{organizations:f,events:y,rooms:z}=k,D=async a=>{var i;const t=a.value;s(o=>({...o,organization:t,organizationSelected:a,contact:"",contactSelected:""})),b(""),x([]),S((i=f.find(o=>o.id===t))==null?void 0:i.address);try{const o=await axios.get(route("contactOrganization"),{params:{organizationId:t}});o.status===200&&x(o.data)}catch(o){console.error(o,"There's something was wrong when organization change")}},N=a=>{var i;const t=a.value;s(o=>({...o,contact:t,contactSelected:a})),b((i=p.find(o=>o.id===t))==null?void 0:i.phone)},T=a=>{s(t=>({...t,event:a.value,eventSelected:a}))},q=a=>{s(t=>({...t,room:a.value,roomSelected:a}))},_=a=>{const t=a.target.value;/^[0-9]{0,10}$/.test(t)&&s("attendance",t?parseInt(t,10):"")},I=a=>{s(t=>({...t,payment:a.value,paymentSelected:a}))};return e.jsxs("div",{className:"content-box mb-2",children:[e.jsx(A,{title:`${h} Confirm Letter`,pageName:h,prevPage:E}),n.code&&e.jsx(l,{label:"Code",name:"code",children:e.jsx(m,{name:"code",value:n.code,isDisabled:!0,className:"mt-1 block w-full"})}),e.jsx(l,{label:"Organization",name:"organization",error:r.organization,isPrimary:!0,children:e.jsx(u,{options:j(f),value:n.organizationSelected,onChange:D,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(l,{label:"Address",name:"address",children:e.jsx(m,{name:"address",value:w,isDisabled:!0,className:"mt-1 block w-full",placeholder:"Organization address..."})}),e.jsx(l,{label:"PIC",name:"pic",error:r.contact,isPrimary:!0,children:e.jsx(u,{options:j(p),value:n.contactSelected,onChange:N,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(l,{label:"Phone",name:"phone",children:e.jsx(m,{name:"phone",value:P,isDisabled:!0,className:"mt-1 block w-full",placeholder:"PIC phone..."})}),e.jsx(l,{label:"Check In",name:"check_in",error:r.check_in,isPrimary:!0,children:e.jsx(g,{minDate:new Date,value:n.check_in,onChange:a=>{s("check_in",v(a))},className:"mt-1 block w-full",name:"check_in",placeholder:"Check In...",required:!0,withTime:!1,isDisable:c})}),e.jsx(l,{label:"Check Out",name:"check_out",error:r.check_out,isPrimary:!0,children:e.jsx(g,{minDate:new Date,value:n.check_out,onChange:a=>{s("check_out",v(a))},className:"mt-1 block w-full",name:"check_in",placeholder:"Check Out...",required:!0,withTime:!1,isDisable:c})}),e.jsx(l,{label:"Event",name:"event",error:r.event,isPrimary:!0,children:e.jsx(u,{options:y,value:n.eventSelected,onChange:T,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(l,{label:"Room",name:"room",error:r.room,isPrimary:!0,children:e.jsx(u,{options:z,value:n.roomSelected,onChange:q,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(l,{label:"Attendance",name:"attendance",error:r.attendance,isPrimary:!0,required:!0,children:e.jsx(m,{name:"attendance",type:"text",value:n.attendance||"",className:"mt-1 block w-full",required:!0,autoComplete:"attendance",placeholder:"Estimated Attendance...",pattern:"^[0-9]{0,10}$",onChange:_,isDisabled:c})}),e.jsx(l,{label:"Payment",name:"payment",error:r.payment,isPrimary:!0,children:e.jsx(u,{options:[{value:"cash",label:"Cash"},{value:"transfer",label:"Transfer"}],value:n.paymentSelected,onChange:I,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(l,{label:"Sales",name:"sales",children:e.jsx(m,{name:"sales",value:C.fullname,isDisabled:!0,className:"mt-1 block w-full"})})]})}export{Q as default};
