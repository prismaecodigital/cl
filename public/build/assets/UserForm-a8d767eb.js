import{W as P,j as a}from"./app-d04e10d1.js";import{F as o,L as k}from"./LoadingButton-7f9394a7.js";import{T as m}from"./TextInput-4d1513fb.js";import{S as F}from"./react-select.esm-cb028719.js";function D({method:t,initialValues:i,routeName:u,roles:p,user:d=""}){const{username:c,fullname:h,email:f,phone:x,role:g,roleSelected:w}=i,{data:l,setData:r,post:b,patch:j,errors:s,processing:v}=P({username:c||"",fullname:h||"",email:f||"",phone:x||"",password:"",role:g||"",roleSelected:w||""}),C=e=>{const y=e.map(n=>n.value);r(n=>({...n,role:y,roleSelected:e}))},S=e=>{e.preventDefault(),t==="post"?b(route(u)):t==="patch"&&j(route(u,d))};return a.jsxs("form",{onSubmit:S,className:"w-full",children:[a.jsx(o,{label:"Username",name:"username",error:s.username,isPrimary:!0,maxLength:"25",children:a.jsx(m,{id:"username",name:"username",className:"mt-1 block w-full",value:l.username,isFocused:!0,autoComplete:"username",placeholder:"Username...",onChange:e=>r("username",e.target.value)})}),a.jsx(o,{label:"Role",name:"role",error:s.role,isPrimary:!0,children:a.jsx(F,{id:"role",options:p,value:l.roleSelected,onChange:C,className:"mt-1 block w-full",isMulti:!0,required:!0})}),a.jsx(o,{label:"Fullname",name:"fullname",error:s.fullname,isPrimary:!0,maxLength:"60",children:a.jsx(m,{id:"fullname",name:"fullname",className:"mt-1 block w-full",value:l.fullname,autoComplete:"fullname",placeholder:"Fullname...",onChange:e=>r("fullname",e.target.value)})}),a.jsx(o,{label:"Email",name:"email",error:s.email,isPrimary:!0,maxLength:"50",children:a.jsx(m,{id:"email",name:"email",type:"email",className:"mt-1 block w-full",value:l.email,autoComplete:"email",placeholder:"User email...",onChange:e=>r("email",e.target.value)})}),a.jsx(o,{label:"Phone",name:"phone",error:s.phone,isPrimary:!0,maxLength:"16",children:a.jsx(m,{id:"phone",name:"phone",className:"mt-1 block w-full",value:l.phone,autoComplete:"phone",placeholder:"User phone...",onChange:e=>r("phone",e.target.value)})}),a.jsx(o,{label:"Password",name:"password",error:s.password,isPrimary:!0,children:a.jsx(m,{id:"password",name:"password",type:"password",className:"mt-1 block w-full",value:l.password,autoComplete:"password",placeholder:"User password...",onChange:e=>r("password",e.target.value)})}),a.jsx(k,{disabled:v,children:"Submit"})]})}export{D as default};
