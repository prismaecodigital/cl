import{q as _,r as d,j as e}from"./app-66a2c661.js";import{B as A}from"./Breadcrumb-7c4540a4.js";import{l as E}from"./breadcrumbContent-e73bf562.js";import{F as o}from"./FieldGroup-fbb64179.js";import{T as u}from"./TextInput-a083b950.js";import{S as m}from"./react-select.esm-c59424fd.js";import{D as f}from"./DateTimePicker-5f6ffdc5.js";import{c as v}from"./convertOptions-49a86ad9.js";import"./trash-2-e45ac675.js";import"./createLucideIcon-2e9d75c9.js";function J({data:r,setData:s,errors:l,pageName:h,selectOption:j,readOnly:c=!1}){const{user:k}=_().props.auth,[P,b]=d.useState(r.phone),[C,S]=d.useState(r.address),[p,g]=d.useState([]),{organizations:x,events:y,rooms:w}=j,z=async a=>{var i;const t=a.value;s(n=>({...n,organization:t,organizationSelected:a,contact:"",contactSelected:""})),b(""),g([]),S((i=x.find(n=>n.id===t))==null?void 0:i.address);try{const n=await axios.get(route("contactOrganization"),{params:{organizationId:t}});n.status===200&&g(n.data)}catch(n){console.error(n,"There's something was wrong when organization change")}},N=a=>{var i;const t=a.value;s(n=>({...n,contact:t,contactSelected:a})),b((i=p.find(n=>n.id===t))==null?void 0:i.phone)},q=a=>{s(t=>({...t,event:a.value,eventSelected:a}))},D=a=>{s(t=>({...t,room:a.value,roomSelected:a}))},I=a=>{const t=a.target.value;/^[0-9]{0,10}$/.test(t)&&s("attendance",t?parseInt(t,10):"")},T=a=>{s(t=>({...t,payment:a.value,paymentSelected:a}))};return e.jsxs("div",{className:"content-box mb-2",children:[e.jsx(A,{title:`${h} Confirm Letter`,pageName:h,prevPage:E}),e.jsx(o,{label:"Organization",name:"organization",error:l.organization,isPrimary:!0,children:e.jsx(m,{options:v(x),value:r.organizationSelected,onChange:z,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(o,{label:"Address",name:"address",children:e.jsx(u,{name:"address",value:C,isDisabled:!0,className:"mt-1 block w-full",placeholder:"Organization address..."})}),e.jsx(o,{label:"PIC",name:"pic",error:l.contact,isPrimary:!0,children:e.jsx(m,{options:v(p),value:r.contactSelected,onChange:N,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(o,{label:"Phone",name:"phone",children:e.jsx(u,{name:"phone",value:P,isDisabled:!0,className:"mt-1 block w-full",placeholder:"PIC phone..."})}),e.jsx(o,{label:"Check In",name:"check_in",error:l.check_in,isPrimary:!0,children:e.jsx(f,{minDate:"today",value:r.check_in,onChange:a=>{const t=new Date(a);s("check_in",t.toISOString())},className:"mt-1 block w-full",name:"check_in",placeholder:"Check In...",required:!0,isDisable:c})}),e.jsx(o,{label:"Check Out",name:"check_out",error:l.check_out,isPrimary:!0,children:e.jsx(f,{minDate:"today",value:r.check_out,onChange:a=>{const t=new Date(a);s("check_out",t.toISOString())},className:"mt-1 block w-full",name:"check_in",placeholder:"Check Out...",required:!0,isDisable:c})}),e.jsx(o,{label:"Event",name:"event",error:l.event,isPrimary:!0,children:e.jsx(m,{options:y,value:r.eventSelected,onChange:q,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(o,{label:"Room",name:"room",error:l.room,isPrimary:!0,children:e.jsx(m,{options:w,value:r.roomSelected,onChange:D,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(o,{label:"Attendance",name:"attendance",error:l.attendance,isPrimary:!0,required:!0,children:e.jsx(u,{name:"attendance",type:"text",value:r.attendance||"",className:"mt-1 block w-full",required:!0,autoComplete:"attendance",placeholder:"Estimated Attendance...",pattern:"^[0-9]{0,10}$",onChange:I,isDisabled:c})}),e.jsx(o,{label:"Payment",name:"payment",error:l.payment,isPrimary:!0,children:e.jsx(m,{options:[{value:"cash",label:"Cash"},{value:"transfer",label:"Transfer"}],value:r.paymentSelected,onChange:T,className:"mt-1 block w-full",required:!0,menuPortalTarget:document.body,menuPosition:"fixed",isDisabled:c})}),e.jsx(o,{label:"Sales",name:"sales",children:e.jsx(u,{name:"sales",value:k.fullname,isDisabled:!0,className:"mt-1 block w-full"})})]})}export{J as default};
